{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/cafein_server/client/src/components/Map.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { NaverMap } from 'react-naver-maps'; // 패키지 불러오기\n\nimport CafeMarker from './Cafemarker';\n\nconst useAxios = async url => {\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null\n  });\n  useEffect(async () => {\n    //axios.post(\"/getcafes\");\n    const result = await axios.post(url);\n    setState({\n      data: result.data,\n      loading: false\n    });\n\n    if (error) {\n      setState({ ...state,\n        loading: false,\n        error\n      });\n    }\n  }, []);\n\n  if (!url) {\n    return;\n  }\n\n  return state;\n};\n\nconst getCafes = async () => {\n  const {\n    data\n  } = await axios.post(\"/getcafes\");\n  setState(current => ({\n    cafes: data,\n    isLoading: false\n  }));\n};\n\nconst Map = () => {\n  const {\n    cafes,\n    loading,\n    error\n  } = useAxios(\"/getcafes\");\n  console.log(cafes); //const navermaps = window.naver.maps; // 혹은 withNavermaps hoc을 사용\n  //const latlng = new navermaps.LatLng(37.3595704, 127.105399)\n\n  return /*#__PURE__*/React.createElement(NaverMap, {\n    mapDivId: 'maps-getting-started-uncontrolled' // default: react-naver-map\n    ,\n    style: {\n      width: '100%',\n      // 네이버지도 가로 길이\n      height: '85vh' // 네이버지도 세로 길이\n\n    },\n    defaultCenter: {\n      lat: 37.554722,\n      lng: 126.970833\n    } // 지도 초기 위치\n    ,\n    defaultZoom: 13 // 지도 초기 확대 배율\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  });\n};\n/*\n{ cafes.map((cafe, index) => (\n\t<CafeMarker lat={cafe.lat} lng={cafe.lon} key={index}/>\n))}\n*/\n\n/*\nclass Map extends React.Component {\n\n  constructor(props) {\n\n\t\tsuper(props);\n\t\tconsole.log(\"BORN NAVER!\")\n\t}\n\n\tstate = {\n\t\tcafes: [],\n\t\tisLoading: true\n\t};\n\n\tgetCafes = async() => {\n\t\tconst {data} = await axios.post(\"/getcafes\");\n\t\tthis.setState(current => ({\n\t\t\tcafes: data, \n\t\t\tisLoading: false\n\t\t}));\n\t}\n\n\tasync\tcomponentDidMount(){\n\t\tawait this.getCafes();\n\t\tconsole.log(\"DID mount!\");\n\t}\n\n\tcomponentDidUpdate(){\n\n\t}\n\t\n\trender() {\n  \t//const navermaps = window.naver.maps; // 혹은 withNavermaps hoc을 사용\n   \t//const latlng = new navermaps.LatLng(37.3595704, 127.105399)\n\n\n\t\tconst {isLoading, cafes} = this.state;\n\n  \treturn (\n\n\n\t\t\t\t<NaverMap\n\t\t\t\t\tmapDivId={'maps-getting-started-uncontrolled'} // default: react-naver-map\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%', // 네이버지도 가로 길이\n\t\t\t\t\t\theight: '85vh' // 네이버지도 세로 길이\n\t\t\t\t\t}}\n\t\t\t\t\tdefaultCenter={{ lat: 37.554722, lng: 126.970833 }} // 지도 초기 위치\n\t\t\t\t\tdefaultZoom={13} // 지도 초기 확대 배율\n\t\t\t\t>\n\t\t\t\n\t\t\t\t\t{ cafes.map((cafe, index) => (\n\t\t\t\t\t\t<CafeMarker lat={cafe.lat} lng={cafe.lon} key={index}/>\n\t\t\t\t\t))}\n\n\n\t\t\t\t</NaverMap>\n\t\t);\n\t}\n}\n*/\n\n\nexport default Map;","map":{"version":3,"sources":["/home/ec2-user/cafein_server/client/src/components/Map.js"],"names":["React","useState","useEffect","axios","NaverMap","CafeMarker","useAxios","url","state","setState","data","loading","error","result","post","getCafes","current","cafes","isLoading","Map","console","log","width","height","lat","lng"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB,C,CAA6C;;AAC7C,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;AAE/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC;AAClCS,IAAAA,IAAI,EAAE,IAD4B;AAElCC,IAAAA,OAAO,EAAE,IAFyB;AAGlCC,IAAAA,KAAK,EAAE;AAH2B,GAAD,CAAlC;AAOAV,EAAAA,SAAS,CAAC,YAAY;AACrB;AACA,UAAMW,MAAM,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAWP,GAAX,CAArB;AACAE,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEG,MAAM,CAACH,IADL;AAERC,MAAAA,OAAO,EAAE;AAFD,KAAD,CAAR;;AAIA,QAAIC,KAAJ,EAAW;AACVH,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWG,QAAAA,OAAO,EAAC,KAAnB;AAA0BC,QAAAA;AAA1B,OAAD,CAAR;AACA;AACD,GAVQ,EAUN,EAVM,CAAT;;AAYA,MAAI,CAACL,GAAL,EAAU;AACT;AACA;;AAED,SAAOC,KAAP;AAEA,CA3BD;;AA8BA,MAAMO,QAAQ,GAAG,YAAW;AAC1B,QAAM;AAACL,IAAAA;AAAD,MAAS,MAAMP,KAAK,CAACW,IAAN,CAAW,WAAX,CAArB;AACAL,EAAAA,QAAQ,CAACO,OAAO,KAAK;AACpBC,IAAAA,KAAK,EAAEP,IADa;AAEpBQ,IAAAA,SAAS,EAAE;AAFS,GAAL,CAAR,CAAR;AAIA,CANF;;AAQA,MAAMC,GAAG,GAAG,MAAM;AAEjB,QAAM;AAACF,IAAAA,KAAD;AAAQN,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA0BN,QAAQ,CAAC,WAAD,CAAxC;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAHiB,CAMf;AACC;;AACF,sBACC,oBAAC,QAAD;AACC,IAAA,QAAQ,EAAE,mCADX,CACgD;AADhD;AAEC,IAAA,KAAK,EAAE;AACNK,MAAAA,KAAK,EAAE,MADD;AACS;AACfC,MAAAA,MAAM,EAAE,MAFF,CAES;;AAFT,KAFR;AAMC,IAAA,aAAa,EAAE;AAAEC,MAAAA,GAAG,EAAE,SAAP;AAAkBC,MAAAA,GAAG,EAAE;AAAvB,KANhB,CAMqD;AANrD;AAOC,IAAA,WAAW,EAAE,EAPd,CAOkB;AAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAcD,CAtBD;AAuBI;;;;;;AAKJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,eAAeN,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { NaverMap } from 'react-naver-maps'; // 패키지 불러오기\nimport CafeMarker from './Cafemarker';\n\nconst useAxios = async (url) => {\n\n\tconst [state, setState] = useState({\n\t\tdata: null,\n\t\tloading: true,\n\t\terror: null\n\t});\n\n\n\tuseEffect(async () => {\n\t\t//axios.post(\"/getcafes\");\n\t\tconst result = await axios.post(url);\n\t\tsetState({\n\t\t\tdata: result.data,\n\t\t\tloading: false\n\t\t});\n\t\tif (error) {\n\t\t\tsetState({...state, loading:false, error});\n\t\t}\n\t}, []);\n\n\tif (!url) {\n\t\treturn;\n\t}\n\n\treturn state;\n\n};\n\n\nconst\tgetCafes = async() => {\n\t\tconst {data} = await axios.post(\"/getcafes\");\n\t\tsetState(current => ({\n\t\t\tcafes: data, \n\t\t\tisLoading: false\n\t\t}));\n\t}\n\nconst Map = () => {\n\n\tconst {cafes, loading, error} = useAxios(\"/getcafes\");\n\tconsole.log(cafes);\n\n\n  \t//const navermaps = window.naver.maps; // 혹은 withNavermaps hoc을 사용\n   \t//const latlng = new navermaps.LatLng(37.3595704, 127.105399)\n \treturn (\n\t\t\t<NaverMap\n\t\t\t\tmapDivId={'maps-getting-started-uncontrolled'} // default: react-naver-map\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%', // 네이버지도 가로 길이\n\t\t\t\t\theight: '85vh' // 네이버지도 세로 길이\n\t\t\t\t}}\n\t\t\t\tdefaultCenter={{ lat: 37.554722, lng: 126.970833 }} // 지도 초기 위치\n\t\t\t\tdefaultZoom={13} // 지도 초기 확대 배율\n\t\t\t>\n\t\t\n\t\t\t</NaverMap>\n\t);\n\n}\n\t\t\t\t/*\n\t\t\t\t{ cafes.map((cafe, index) => (\n\t\t\t\t\t<CafeMarker lat={cafe.lat} lng={cafe.lon} key={index}/>\n\t\t\t\t))}\n\t\t\t\t*/\n/*\nclass Map extends React.Component {\n\n  constructor(props) {\n\n\t\tsuper(props);\n\t\tconsole.log(\"BORN NAVER!\")\n\t}\n\n\tstate = {\n\t\tcafes: [],\n\t\tisLoading: true\n\t};\n\n\tgetCafes = async() => {\n\t\tconst {data} = await axios.post(\"/getcafes\");\n\t\tthis.setState(current => ({\n\t\t\tcafes: data, \n\t\t\tisLoading: false\n\t\t}));\n\t}\n\n\tasync\tcomponentDidMount(){\n\t\tawait this.getCafes();\n\t\tconsole.log(\"DID mount!\");\n\t}\n\n\tcomponentDidUpdate(){\n\n\t}\n\t\n\trender() {\n  \t//const navermaps = window.naver.maps; // 혹은 withNavermaps hoc을 사용\n   \t//const latlng = new navermaps.LatLng(37.3595704, 127.105399)\n\n\n\t\tconst {isLoading, cafes} = this.state;\n\n  \treturn (\n\n\n\t\t\t\t<NaverMap\n\t\t\t\t\tmapDivId={'maps-getting-started-uncontrolled'} // default: react-naver-map\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%', // 네이버지도 가로 길이\n\t\t\t\t\t\theight: '85vh' // 네이버지도 세로 길이\n\t\t\t\t\t}}\n\t\t\t\t\tdefaultCenter={{ lat: 37.554722, lng: 126.970833 }} // 지도 초기 위치\n\t\t\t\t\tdefaultZoom={13} // 지도 초기 확대 배율\n\t\t\t\t>\n\t\t\t\n\t\t\t\t\t{ cafes.map((cafe, index) => (\n\t\t\t\t\t\t<CafeMarker lat={cafe.lat} lng={cafe.lon} key={index}/>\n\t\t\t\t\t))}\n\n\n\t\t\t\t</NaverMap>\n\t\t);\n\t}\n}\n*/\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}